(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{560:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("介绍")]),a("p",[t._v("XMLHttpRequest对象"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"xmlhttprequest对象-ajax本质"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xmlhttprequest对象-ajax本质"}},[t._v("#")]),t._v(" XMLHttpRequest对象 -ajax本质")]),t._v(" "),a("p",[t._v("1、XMLHttpRequest对象的作用\n2、XHR发送Get请求基本步骤\n3、XHR发送带参数的Get请求\n4、URL的参数说明\n5、URL编码")]),t._v(" "),a("h2",{attrs:{id:"_1-xmlhttprequest对象作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-xmlhttprequest对象作用"}},[t._v("#")]),t._v(" 1.XMLHttpRequest对象作用")]),t._v(" "),a("p",[t._v("jQuery中的  $.get(), $.post(), $.ajax() 方法内部本质上都是使用XMLHttpRequest对象\n"),a("strong",[t._v("客户端通过 XMLHttpRequest 对象与服务器来进行通讯的")]),t._v("。\n所以 Ajax 的本质其实就是利用 XMLHttpRequest对象 与 服务器 进行数据交互。")]),t._v(" "),a("h2",{attrs:{id:"_2-xhr发送get请求基本步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-xhr发送get请求基本步骤"}},[t._v("#")]),t._v(" 2.XHR发送Get请求基本步骤")]),t._v(" "),a("ol",[a("li",[t._v("创建XHR对象")]),t._v(" "),a("li",[t._v("设置请求方式，请求地址")]),t._v(" "),a("li",[t._v("发送请求")]),t._v(" "),a("li",[t._v("接收服务器响应回来的数据")])]),t._v(" "),a("p",[t._v("参考代码")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请求地址'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器响应回来的内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h2",{attrs:{id:"_3-xhr发送带参数的get请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-xhr发送带参数的get请求"}},[t._v("#")]),t._v(" 3.XHR发送带参数的Get请求")]),t._v(" "),a("p",[t._v("核心代码:")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请求地址?查询字符串'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("多个参数用 & 符号连接，如: ?page=0&size=10")]),t._v(" "),a("h2",{attrs:{id:"_4-url的参数说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-url的参数说明"}},[t._v("#")]),t._v(" 4.URL的参数说明")]),t._v(" "),a("p",[t._v("定义：\nURL参数(也叫查询字符串)指的是在URL地址后面通过?号加上的用于发送给服务器的字符串")]),t._v(" "),a("p",[t._v("格式举例：\n1、不带参数的URL\n​ http://127.0.0.1:3001/getHeroSkin")]),t._v(" "),a("p",[t._v("2、带一个参数的URL\nhttp://127.0.0.1:3001/getHeroSkin?heroName=白起")]),t._v(" "),a("p",[t._v("3、带多个参数的URL\nhttp://127.0.0.1:3001/getHeroSkin?id=3&heroName=白起")]),t._v(" "),a("h2",{attrs:{id:"_5-url编码的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-url编码的作用"}},[t._v("#")]),t._v(" 5.URL编码的作用：")]),t._v(" "),a("p",[t._v("为了保证发送给服务器的URL及其参数不会被服务器解析错误。(浏览器会自动对URL进行编码)\n在URL地址中，只允许出现英文相关的字母，数字，- _ . ~4个特殊字符以及所有的保留字符。\n如果出现了中文，则会对中文进行URL编码\n"),a("strong",[t._v("编码语法：")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("需要编码的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v("字符串"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("解码语法：")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("编码后的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v("字符串"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-xhr发送post请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-xhr发送post请求"}},[t._v("#")]),t._v(" 6. XHR发送POST请求")]),t._v(" "),a("ol",[a("li",[t._v("设置请求方式")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:3001/addHeroSkin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("设置 Content-Type 类型为application/x-www-form-urlencoded")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("将参数字符串发送给服务器")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XHR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数字符串"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"小结-通过xmlhttprequest对象发送get和post请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-通过xmlhttprequest对象发送get和post请求"}},[t._v("#")]),t._v(" 小结:通过XMLHttpRequest对象发送GET和POST请求")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Ajax的本质\n客户端利用 XMLHttpRequest 对象与 服务器端 进行数据交互")])]),t._v(" "),a("li",[a("p",[t._v("URL的参数格式\n?参数名=参数值&参数名=参数值")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);