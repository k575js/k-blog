(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{608:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("介绍")]),a("p",[t._v("vue中的侦听器"),a("br")])]),t._v(" "),a("h1",{attrs:{id:"vue中的侦听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue中的侦听器"}},[t._v("#")]),t._v(" vue中的侦听器")]),t._v(" "),a("h2",{attrs:{id:"一-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-概念"}},[t._v("#")]),t._v(" 一.概念:")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("watch 侦听器")]),t._v("允许开发者监视数据的变化，从而针对数据的变化做特定的操作。例如，监视用户名的变化并发起请求，判断用户名是否可用。")]),t._v(" "),a("li",[a("strong",[t._v("侦听器，也称为侦听属性")]),t._v("。它可以监听指定的属性值的变化 ，"),a("strong",[t._v("只要")]),t._v("属性值发生了变化 "),a("strong",[t._v("就")]),t._v("会自动的触发相应的侦听器")]),t._v(" "),a("li",[t._v("相比之下，它比计算属性更通用，特别是在有异步操作的场景下")])]),t._v(" "),a("h2",{attrs:{id:"二-侦听器的定义及使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-侦听器的定义及使用"}},[t._v("#")]),t._v(" 二.侦听器的定义及使用")]),t._v(" "),a("h3",{attrs:{id:"_1-简单侦听器的定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简单侦听器的定义"}},[t._v("#")]),t._v(" 1.简单侦听器的定义")]),t._v(" "),a("ol",[a("li",[t._v("使用"),a("code",[t._v("watch结构")]),t._v("定义侦听器")]),t._v(" "),a("li",[t._v("定义为"),a("strong",[t._v("函数的形式")]),t._v(",且"),a("strong",[t._v("函数名称必须和你想侦听的属性名称完全一致")])])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("watch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义侦听函数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("想侦听的属性名称")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("新值，旧值")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 业务处理")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"_2-简单侦听器的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-简单侦听器的使用"}},[t._v("#")]),t._v(" 2.简单侦听器的使用")]),t._v(" "),a("ol",[a("li",[t._v("不需要人为调用，也不能人为调用")]),t._v(" "),a("li",[t._v("只要侦听的数据发生变化，就会自动的触发")]),t._v(" "),a("li",[t._v("如果想获取到处理结果，"),a("strong",[t._v("一般是将结果赋值给其它的成员")])])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    watch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个名字不能随意，只能和你想侦听的属性名称完全一致")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们不能手动调用")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 侦听器也没有返回值,所以一般是将处理结果赋值给其它的变量")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("o")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h2",{attrs:{id:"三-侦听器的其它选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-侦听器的其它选项"}},[t._v("#")]),t._v(" 三.侦听器的其它选项")]),t._v(" "),a("h3",{attrs:{id:"immediate-选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#immediate-选项"}},[t._v("#")]),t._v(" immediate 选项")]),t._v(" "),a("ol",[a("li",[t._v("默认情况下，组件在"),a("strong",[t._v("初次加载")]),t._v("完毕后"),a("strong",[t._v("不会调用")]),t._v(" watch 侦听器。")]),t._v(" "),a("li",[t._v("如果想让 watch 侦听器立即被调用，则需要使用"),a("code",[t._v("immediate")]),t._v(" 选项")]),t._v(" "),a("li",[t._v("这个时候需要注意侦听器需要定义为"),a("strong",[t._v("对象的形式")]),t._v("，以便让我们能够添加选项配置")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210412204434677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMTU3NjEy,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),a("h3",{attrs:{id:"deep选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deep选项"}},[t._v("#")]),t._v(" deep选项")]),t._v(" "),a("ol",[a("li",[t._v("如果 watch 侦听的是一个对象，如果"),a("strong",[t._v("对象中的属性值")]),t._v("发生了变化，则无法被监听到。此时可以使用 "),a("code",[t._v("deep")]),t._v(" 选项")]),t._v(" "),a("li",[t._v("这个时候需要注意侦听器也需要定义为对象的形式，以便让我们能够添加选项配置\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210412204418528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMTU3NjEy,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),t._v("\n如果只想监听"),a("strong",[t._v("对象中单个属性")]),t._v("的变化，也可以按照如下的方式定义 watch 侦听器\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210412204515971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMTU3NjEy,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})])]),t._v(" "),a("h2",{attrs:{id:"四-侦听器的特点-与计算属性的异同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-侦听器的特点-与计算属性的异同"}},[t._v("#")]),t._v(" 四.侦听器的特点(与计算属性的异同)")]),t._v(" "),a("ol",[a("li",[t._v("它的命名不能随意，必须和你想侦听的属性名称完全一致")]),t._v(" "),a("li",[t._v("它不能手动调用，它是自动触发")]),t._v(" "),a("li",[t._v("侦听器侧重于监听单个数据的变化，最终执行特定的业务处理，"),a("strong",[t._v("不需要有任何返回值")]),t._v("，如果有需要一般是将结果赋值给另外一个变量")]),t._v(" "),a("li",[t._v("它可以"),a("strong",[t._v("侦听异步")]),t._v("操作中数据的变化")])])])}),[],!1,null,null,null);s.default=e.exports}}]);